
{{#section 'css'}}
 

{{/section}}

<div class="container mt-4">
    <h1 class="text-muted mb-4 text-center">My Articles</h1>

    <!-- Check if there are articles to display -->
    {{#if articles.length}}
        <div class="row">
            <!-- Loop through articles and display each as a card -->
            {{#each articles}}
                <div class="col-12 mb-4"> <!-- Each card takes up full width (one per row) -->
                    <!-- Article Card -->
                    <div class="card h-100"> <!-- Ensure card takes full height -->
                        <!-- Card Header -->
                        <div class="card-header bg-light text-dark d-flex justify-content-center align-items-center" style="height: 80px;">
                            <h5 class="card-title text-center mb-0" style="font-size: 1.5rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                {{this.title}}
                            </h5>
                        </div>

                        <!-- Card Body -->
                        <div class="card-body">
                            <!-- Abstract (with text truncation to avoid overflowing) -->
                            <p class="card-text">
                                <strong>Abstract:</strong>
                                <span class="d-block text-truncate" style="max-width: 100%; overflow: hidden; white-space: nowrap;">
                                    {{this.abstract}}
                                </span>
                            </p>
                            <br>
                            <!-- Content Preview (with HTML rendering) -->
                            <p class="card-text" style=" max-width: 100%;overflow: hidden;text-overflow: ellipsis; max-height: 100px;">
                                <strong>Content Preview:</strong>
                                <span class="d-block" style="max-width: 100%;overflow: hidden;text-overflow: ellipsis; max-height: 100px;">
                                    {{{this.content}}} <!-- Use triple braces to render HTML content -->
                                </span>
                            </p>
                            
                            <hr>
                            <br>

                            <!-- Category Name -->
                            <p class="card-text"><strong>Category:</strong> {{this.category_name}}</p>

                            <!-- Status & Premium -->
                            <p class="card-text "><strong>Status:</strong> {{this.status}}</p>
                            <p class="card-text">
                                <strong>Premium:</strong>
                                {{#if this.is_premium }}
                                    <span class="badge bg-warning text-dark">Premium</span>
                                {{else}}
                                    <span class="badge bg-secondary">Regular</span>
                                {{/if}}
                            </p>

                            <!-- Read more link -->
                            <a href="/articles/{{this.id}}" class="btn btn-outline-primary">Read More</a>
                        </div>

                        <!-- Card Footer -->
                        <div class="card-footer text-muted">
                            <p><strong>Author ID:</strong> {{this.author_id}}</p>
                            <p><strong>Created At:</strong> {{this.created_at}}</p>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div>
    {{else}}
        <p>No articles found.</p>
    {{/if}}
</div>



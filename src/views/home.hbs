<!-- Featured Article -->
<div class="featured-article mb-4">
    {{#if featuredArticles.[0]}}
    <img src="/public/images/{{featuredArticles.[0].featured_image}}" alt="{{featuredArticles.[0].title}}"
        class="img-fluid mb-3">
    <h1 class="article-title">
        <a href="/article/{{featuredArticles.[0].id}}" class="text-dark text-decoration-none">
            {{featuredArticles.[0].title}}
        </a>
    </h1>
    <p class="lead">{{featuredArticles.[0].abstract}}</p>
    <div class="article-meta">
        <span>{{featuredArticles.[0].category_name}}</span> •
        <span>{{featuredArticles.[0].author_name}}</span> •
        <small>{{featuredArticles.[0].publish_date}}</small>
    </div>
    <div class="comment-count">
        <i class="bi bi-chat-dots"></i> {{featuredArticles.[0].comments}}
    </div>
    {{else}}
    <p>Không có bài báo nổi bật</p>
    {{/if}}
</div>


<!-- News Grid -->
<div class="row">
    {{#if isSubscriber}}
        {{!-- Giao diện cho Subscriber --}}
        {{#each featuredArticles}}
            <div class="{{#if is_premium}}premium-article{{else}}regular-article{{/if}}">
                {{#if is_premium}}
                <div class="premium-badge">
                    <i class="bi bi-star-fill premium-star"></i>
                    Premium
                </div>
                {{/if}}
                
                <div class="row">
                    <div class="col-md-4">
                        <img src="/public/images/{{featured_image}}" 
                             class="img-fluid rounded" 
                             alt="{{title}}">
                    </div>
                    <div class="col-md-8">
                        <h3 class="article-title">
                            <a href="/subscriber/article/{{id}}" class="text-decoration-none">
                                {{title}}
                            </a>
                        </h3>
                        <p class="text-muted">{{abstract}}</p>
                        <div class="article-meta">
                            <small class="text-muted">
                                <i class="bi bi-calendar"></i> {{publish_date}}
                                <i class="bi bi-person ms-2"></i> {{author_name}}
                                <i class="bi bi-folder ms-2"></i> {{category_name}}
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        {{/each}}
    {{else}}
        {{!-- Giao diện cho User thường --}}
        {{#each featuredArticles}}
            <div class="regular-article">
                <div class="row">
                    <div class="col-md-4">
                        <img src="/public/images/{{featured_image}}" 
                             class="img-fluid rounded" 
                             alt="{{title}}">
                    </div>
                    <div class="col-md-8">
                        <h3 class="article-title">
                            <a href="/article/{{id}}" class="text-decoration-none">
                                {{title}}
                            </a>
                        </h3>
                        <p class="text-muted">{{abstract}}</p>
                        <div class="article-meta">
                            <small class="text-muted">
                                <i class="bi bi-calendar"></i> {{publish_date}}
                                <i class="bi bi-person ms-2"></i> {{author_name}}
                                <i class="bi bi-folder ms-2"></i> {{category_name}}
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        {{/each}}
    {{/if}}
</div>

<!-- Pagination -->
{{#if pagination}}
<nav aria-label="Featured articles pagination" class="mt-4">
    <ul class="pagination justify-content-center">
        {{#if pagination.hasPrevPage}}
        <li class="page-item">
            {{#if isSubscriber}}
                <a class="page-link" href="/subscriber?page={{pagination.prevPage}}">Trang trước</a>
            {{else}}
                <a class="page-link" href="/?page={{pagination.prevPage}}">Trang trước</a>
            {{/if}}
        </li>
        {{/if}}
        
        {{#each pagination.pages}}
        <li class="page-item {{#if this.isCurrentPage}}active{{/if}}">
            {{#if ../isSubscriber}}
                <a class="page-link" href="/subscriber?page={{this.pageNumber}}">{{this.pageNumber}}</a>
            {{else}}
                <a class="page-link" href="/?page={{this.pageNumber}}">{{this.pageNumber}}</a>
            {{/if}}
        </li>
        {{/each}}

        {{#if pagination.hasNextPage}}
        <li class="page-item">
            {{#if isSubscriber}}
                <a class="page-link" href="/subscriber?page={{pagination.nextPage}}">Trang sau</a>
            {{else}}
                <a class="page-link" href="/?page={{pagination.nextPage}}">Trang sau</a>
            {{/if}}
        </li>
        {{/if}}
    </ul>
</nav>
{{/if}}

<style>
.premium-article {
    position: relative;
    border: 2px solid #ffd700;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 4px 8px rgba(255, 215, 0, 0.1);
    background: linear-gradient(to right, #fff, #fffdf0);
}

.premium-badge {
    position: absolute;
    top: -10px;
    right: 10px;
    background: #ffd700;
    color: #000;
    padding: 5px 15px;
    border-radius: 15px;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.regular-article {
    margin-bottom: 20px;
    padding: 15px;
    border-bottom: 1px solid #eee;
}
</style>


//Merged successfully by Duong. 
